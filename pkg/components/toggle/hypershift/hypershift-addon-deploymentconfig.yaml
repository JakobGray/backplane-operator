apiVersion: addon.open-cluster-management.io/v1alpha1
kind: AddOnDeploymentConfig
metadata:
  name: hypershift-addon-deploy-config
  namespace: {{ .Namespace }}
spec:
  customizedVariables:
  - name: hcMaxNumber
    value: "80"
  - name: hcThresholdNumber
    value: "60"
  nodePlacement:
{{- with .Tolerations }}
    tolerations:
    {{- range . }}
    - {{ if .Key }} key: {{ .Key }} {{- end }}
      {{ if .Operator }} operator: {{ .Operator }} {{- end }}
      {{ if .Value }} value: {{ .Value }} {{- end }}
      {{ if .Effect }} effect: {{ .Effect }} {{- end }}
      {{ if .TolerationSeconds }} tolerationSeconds: {{ .TolerationSeconds }} {{- end }}
    {{- end }}
{{- end }}
{{- if .NodeSelector }}
    nodeSelector:
{{- range $key, $value := .NodeSelector }}
      {{$key}}: "{{$value}}"
    {{- end }}
{{- end }}
